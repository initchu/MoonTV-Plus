# MoonTV-Plus

🌙 一个功能丰富的在线视频播放平台，支持**多源切换**、**视频下载**、个性化收藏等功能

## ✨ 主要特性

### 🎬 视频播放

- 支持 HLS (m3u8) 视频流播放
- 自动适配不同清晰度
- 流畅的播放体验
- 支持倍速播放、音量控制、全屏模式

### 🔄 多源切换

- 自动搜索多个视频源
- 智能优选最佳播放源
- 手动切换不同视频源

### 💾 视频下载

- 支持单集视频下载
- 支持整季合集下载
- 支持暂停/恢复下载
- 实时显示下载进度
- 支持并行下载，提高下载速度

### 📺 剧集管理

- 清晰的剧集选择界面
- 支持上一集/下一集快速切换
- 自动记录播放进度
- 支持跳过片头片尾

### 💖 个性化功能

- 视频收藏功能
- 播放历史记录
- 个性化推荐
- 深色/浅色主题切换

### 🔒 安全特性

- 支持密码访问控制
- 安全的 API 请求处理
- 数据加密存储

## 🛠️ 技术栈

### 核心框架

- **Next.js 14** - React 全栈框架
- **TypeScript** - 类型安全的 JavaScript 超集
- **Tailwind CSS** - 实用优先的 CSS 框架

### 视频播放

- **hls.js** - HLS 视频流播放库
- **Artplayer** - 美观的 HTML5 视频播放器

### UI 组件

- **Headless UI** - 无头 UI 组件库
- **Heroicons** - SVG 图标库
- **Framer Motion** - 动画库
- **DnD Kit** - 拖拽功能实现

## 🚀 快速开始

### 环境要求

- Node.js 18.x 或更高版本
- pnpm 10.x 或更高版本

### 安装步骤

1. **克隆仓库**

   ```bash
   git clone https://github.com/initchu/MoonTV-Plus.git
   cd MoonTV-Plus
   ```

2. **安装依赖**

   ```bash
   pnpm install
   ```

3. **配置环境变量**
   创建 `.env.local` 文件并添加必要的环境变量：

   ```env
   # 访问控制密码（可选）
   PASSWORD=123456

   # 其他配置项
   # IMAGE_PROXY=your-image-proxy-url
   # DOUBAN_PROXY=your-douban-proxy-url
   ```

4. **启动开发服务器**

   ```bash
   pnpm dev
   ```

5. **访问应用**
   打开浏览器访问 `http://localhost:3000`

### 构建生产版本

```bash
pnpm build
pnpm start
```

## 📖 功能说明

### 视频播放

1. 在搜索框中输入视频名称
2. 选择要观看的视频
3. 点击播放按钮开始观看
4. 使用播放器控制栏调整播放设置

### 视频下载

1. 在视频播放页面点击下载按钮
2. 选择下载单集或全集
3. 在下载进度弹窗中查看下载状态
4. 可随时暂停或恢复下载
5. 下载完成后自动保存到本地

### 剧集管理

1. 在播放页面右侧选择剧集
2. 使用快捷键 `Alt + ←` / `Alt + →` 切换剧集
3. 点击播放器上的上下集按钮切换
4. 自动记录播放进度，下次继续观看

### 个性化设置

1. 点击收藏按钮将视频添加到收藏夹
2. 在个人中心查看播放历史
3. 调整跳过片头片尾设置
4. 切换深色/浅色主题

## 🔧 配置说明

### 环境变量

| 变量名   | 描述         | 默认值 | 是否必填 |
| -------- | ------------ | ------ | -------- |
| PASSWORD | 访问控制密码 | 无     | 可选     |

### 本地存储配置

应用使用浏览器本地存储保存用户偏好设置：

- 播放历史记录
- 收藏列表
- 主题设置
- 跳过片头片尾配置

## 🚢 部署指南

### Vercel 部署

1. 登录 Vercel 账号
2. 导入 GitHub 仓库
3. 配置环境变量
4. 点击部署按钮
5. 等待部署完成

### Cloudflare Pages 部署

```bash
pnpm pages:build
```

然后按照 Cloudflare Pages 部署流程上传构建产物。

### 本地部署

```bash
pnpm build
pnpm start
```

## 📄 许可证

本项目采用 MIT 许可证 - 查看 [LICENSE](LICENSE) 文件了解详情

## ❓ 常见问题

### 1. 播放视频时出现卡顿

- 检查网络连接
- 尝试切换其他视频源
- 降低视频清晰度

### 2. 无法下载视频

- 检查 m3u8 链接是否有效
- 确保浏览器支持下载功能
- 尝试刷新页面后重新下载

### 3. 播放进度不保存

- 确保浏览器允许本地存储
- 检查是否已登录
- 尝试清除浏览器缓存

### 4. 跳过片头片尾不生效

- 确保已正确设置跳过时间
- 检查视频格式是否支持
- 尝试重新设置跳过配置

## 📞 联系方式

- **GitHub Issues**: [https://github.com/initchu/MoonTV-Plus/issues](https://github.com/initchu/MoonTV-Plus/issues)
- **邮箱**: livecityccz@gmail.com

## 📌 声明

本项目仅供学习和研究使用。所有视频资源均来自第三方网站，本项目不存储任何视频内容。

---

**MoonTV-Plus** - 让观影更美好 🌙
